(function (factory) {
    typeof define === 'function' && define.amd ? define('appVendor', factory) :
    factory();
}(function () { 'use strict';

    var _window = window,
        fetch = _window.fetch;
    var _document = document,
        body = _document.body;

    var _src = function _src(v) {
      return "./js/".concat(v, ".min.js");
    };

    try {
      var script = document.createElement("script");

      var check = function check() {
        "use strict";

        if (typeof window.Symbol === "undefined" || typeof window.Promise === "undefined") return false;

        try {
          Function("class Foo {}")();
          Function("let bar = x => x+1;")();
          Function("let bez = { a: 'b' }; let box = { b: 'a', ...bez };")();
        } catch (e) {
          return false;
        }

        return true;
      };

      var isModern = check();

      var src = _src("app".concat(isModern ? ".modern" : ""));

      script.setAttribute("src", src);

      if (isModern) {
        fetch(src, {
          headers: new Headers({
            'content-type': 'text/javascript; charset=utf-8'
          })
        }).then(function (res) {
          if (!res.ok) {
            console.log('Looks like there was a problem. Status Code: ', status);
            return;
          }

          res.text().then(function (data) {
            script.innerHTML = data;
            body.appendChild(script);
          });
        })["catch"](function (err) {
          console.log('Fetch Error: ', err);
        });
      } else {
        body.appendChild(script);
      }
    } catch (e) {
      var err = "Your browser is outdated, I suggest updating or upgrading to a new one.";
      document.write(err);
      console.warn(err);
    }

}));
