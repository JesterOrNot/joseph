{"version":3,"file":"../js/app.vendor.min.js","sources":["src/js/app.vendor.js"],"sourcesContent":["const { fetch } = window;\nconst { body } = document;\n\nlet _src = v => `./js/${v}.min.js`;\ntry {\n    let script = document.createElement(\"script\");\n    let check = function () {\n        \"use strict\";\n\n        if (typeof window.Symbol === \"undefined\" || typeof window.Promise === \"undefined\") return false;\n        try {\n            Function(\"class Foo {}\") ();\n            Function(\"let bar = x => x+1;\") ();\n            Function(\"let bez = { a: 'b' }; let box = { b: 'a', ...bez };\") ();\n        } catch (e) { return false; }\n\n        return true;\n    };\n\n    let isModern = check();\n    let src = _src(`app${isModern ? \".modern\" : \"\"}`);\n    script.setAttribute(\"src\", src);\n    if (isModern) {\n        fetch(src)\n            .then(res => {\n                if (!res.ok) {\n                    console.log('Looks like there was a problem. Status Code: ', status);\n                    return;\n                }\n\n                res.text().then(data => {\n                    script.innerHTML = data;\n                    body.appendChild(script);\n                });\n            })\n            .catch(err => {\n                console.log('Fetch Error: ', err);\n            });\n    } else {\n        body.appendChild(script);\n    }\n\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.register('/sw.min.js', { scope: '/' })\n            .then(function (registration) {\n                console.log('Registration successful, scope is:', registration.scope);\n            })\n            .catch(function (error) {\n                console.log('Service worker registration failed, error:', error);\n            });\n\n        // navigator.serviceWorker.ready.then(function () {\n        //     console.log(\"Offline data will be updated on reload.\");\n        // });\n\n        let deferredPrompt;\n        const addBtn = document.querySelector('.add-button');\n        addBtn.style.display = 'none';\n\n        window.addEventListener('beforeinstallprompt', (e) => {\n            // Prevent Chrome 67 and earlier from automatically showing the prompt\n            e.preventDefault();\n            // Stash the event so it can be triggered later.\n            deferredPrompt = e;\n            // Update UI to notify the user they can add to home screen\n            addBtn.style.display = 'block';\n        });\n\n        addBtn.addEventListener('click', (e) => {\n            // hide our user interface that shows our A2HS button\n            addBtn.style.display = 'none';\n            // Show the prompt\n            deferredPrompt.prompt();\n            // Wait for the user to respond to the prompt\n            deferredPrompt.userChoice.then((choiceResult) => {\n                if (choiceResult.outcome === 'accepted') {\n                    console.log('User accepted the A2HS prompt');\n                } else {\n                    console.log('User dismissed the A2HS prompt');\n                }\n                deferredPrompt = null;\n            });\n        });\n    }\n\n} catch (e) {\n    let err = \"Your browser is outdated, I suggest updating or upgrading to a new one.\";\n    document.write(err);\n    console.warn(err);\n}"],"names":["window","fetch","document","body","_src","v","script","createElement","check","Symbol","Promise","Function","e","isModern","src","setAttribute","then","res","ok","console","log","status","text","data","innerHTML","appendChild","err","navigator","serviceWorker","register","scope","registration","error","deferredPrompt","addBtn","querySelector","style","display","addEventListener","preventDefault","prompt","userChoice","choiceResult","outcome","write","warn"],"mappings":"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"}